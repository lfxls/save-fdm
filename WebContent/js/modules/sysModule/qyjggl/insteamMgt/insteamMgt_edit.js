var menuId = '51200';loadProperties('sysModule', 'sysModule_orgMgt');Ext.onReady(function() {	hideLeft();});function save(operateType){	if('add' == operateType){		addInsteam();	}		if('edit' == operateType){		updInsteam();	}}//新增安装队function addInsteam() {	//验证各个字段信息	if(!dataValidate()){		return;	}	var tname = $F('tname');	var status = $F('status');	var rsp_name = $F('rsp_name');	var p_num = $F('p_num');	var phone = $F('phone');				var p = {		tname : tname,		status : status,		rsp_name : rsp_name,		p_num : p_num,		phone : phone,						logger : sys.orgMgt.insteamMgt.add.logger + tname	};	Wg.confirm(sys.orgMgt.insteamMgt.add.confirm, function() {		dwrAction.doDbWorks('insteamMgtAction', menuId + '01', p, function(res) {			Wg.alert(res.msg, function() {				if (res.success) {					parent.query();					parent.win.close();				}			});		});	});}//修改操作员function updInsteam() {	//验证各个字段信息	if(!dataValidate()){		return;	}		var tname = $F('tname');	var rsp_name = $F('rsp_name');	var phone = $F('phone');	var status = $('status').value;	var tno = $F('tno');	var p_num = $F('p_num');	var p = {		tname : tname,		rsp_name : rsp_name,		phone : phone,		status : status,		tno : tno,		p_num : p_num,		/*type : 'ins_team',*/		logger : sys.orgMgt.insteamMgt.upd.logger + tname	};	Wg.confirm(sys.orgMgt.insteamMgt.upd.confirm, function() {				dwrAction.doDbWorks('insteamMgtAction', menuId + '02', p, function(res) {			Wg.alert(res.msg, function() {				if (res.success) {										parent.query();					parent.win.close();									}			});		});	});}//检验函数function dataValidate() {	var tname = $F('tname');	var status = $F('status');	var rsp_name = $F('rsp_name');	var p_num = $F('p_num');	if($E(tname)) {		Ext.Msg.alert(ExtTools_alert_title, sys.orgMgt.insteamMgt.valid.tname, function(btn,text){			if(btn=='ok'){				$('tname').focus();			}		});		return false;	}		if($E(status)) {		Ext.Msg.alert(ExtTools_alert_title, sys.orgMgt.insteamMgt.valid.status, function(btn,text){			if(btn=='ok'){				$('status').focus();			}		});		return false;	}		if($E(rsp_name)) {		Ext.Msg.alert(ExtTools_alert_title, sys.orgMgt.insteamMgt.valid.rspName, function(btn,text){			if(btn=='ok'){				$('rsp_name').focus();			}		});		return false;	}		if($E(p_num)) {		Ext.Msg.alert(ExtTools_alert_title, sys.orgMgt.insteamMgt.valid.p_num, function(btn,text){			if(btn=='ok'){				$('p_num').focus();			}		});		return false;	}	return true;	}function phoneIsNumbers(){	//电话必须是数字	if(!$E($F('phone')) && !/^\d{1,32}$/.test($F('phone'))){		Ext.Msg.alert(ExtTools_alert_title,sys.orgMgt.insteamMgt.valid.phone, function(btn,text){			if(btn=='ok'){				$('phone').focus();			}		});			return false;	}}/*  /^[1-9]\d{1,7}$/    /^\d{1,8}$/ */function pnumIsNumbers(){	/*alert("test");*/	//人数必须是数字	if(!$E($F('p_num')) && !/^[1-9]\d{0,7}$/.test($F('p_num'))){		Ext.Msg.alert(ExtTools_alert_title,sys.orgMgt.insteamMgt.valid.pnumIsNumber, function(btn,text){			if(btn=='ok'){				$('p_num').focus();			}		});			return false;	}}